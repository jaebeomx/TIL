# 2024.03.25 TIL

## π“ React

### π¨ νμ΄μ§€λ„¤μ΄μ…

λ³΄ν†µ κ²μ‹νμ„ μ μ‘ν•  λ• λ¬΄ν• μ¤ν¬λ΅¤ λλ‚μ΄ μ•„λ‹λΌλ©΄ ν•λ²μ— λ³΄μ—¬μ¤„ κ²μ‹λ¬Ό κ°μλ¥Ό μ ν•ν•κ³ , νμ΄μ§€λ„¤μ΄μ…(pagination)μ„ λ§λ“¤μ–΄ μ΄λ™ν•  μ μκ² ν•λ‹¤. μ΄λ” μ–΄λ–»κ² ν•  μ μμ„κΉ?

#### π“ ν•„μ”ν•κ²ƒ

1. limit μ΄λΌλ” λ³€μ. ν• νμ΄μ§€μ—μ„ λ³΄μ—¬μ¤„ κ²μ‹λ¬Όμ κ°μλ¥Ό μλ―Έν•λ‹¤.

2. pageλΌλ” state. ν„μ¬ νμ΄μ§€μ λ²νΈλ¥Ό μλ―Έν•λ‹¤.

3. offset μ΄λΌλ” λ³€μ. μ²« κ²μ‹λ¬Όμ μΈλ±μ¤λ¥Ό μλ―Έν•λ‹¤.

### π¨ νμ΄μ§€λ„¤μ΄μ… μ•κ³ λ¦¬μ¦ 1

46κ°μ κ²μ‹λ¬Όμ΄ μ΅΄μ¬ν•λ‹¤κ³  κ°€μ •ν–μ„ λ•, ν• νμ΄μ§€μ— 10κ°μ κ²μ‹λ¬Ό(limit)μ„ λ³΄μ—¬μ£Όκ³ μ ν•λ‹¤λ©΄ 40/10ν•΄μ„ 4.6μ΄λ―€λ΅ 5κ°μ νμ΄μ§€κ°€ ν•„μ”ν•λ‹¤.

κ° νμ΄μ§€μ—λ” μ–΄λ–¤ κ²μ‹λ¬Όμ΄ λ³΄μ—¬μ•Ό ν•λƒλ©΄
1νμ΄μ§€μ—λ” 0~9λ² μΈλ±μ¤μ κ²μ‹λ¬Ό
2νμ΄μ§€μ—λ” 10~19λ² μΈλ±μ¤μ κ²μ‹λ¬Ό, 3νμ΄μ§€μ—λ” 20~29...

λ”°λΌμ„ κ° νμ΄μ§€μ offsetμ€ 0,10,20,30,40μ΄ λλ‹¤. μ—¬κΈ°μ„ offsetμ μ‹μ„ μ μ¶”ν•μλ©΄

```js
const offset = (page - 1) * limit;
```

---

### π¨ ν„μ¬ νμ΄μ§€μ— ν•΄λ‹Ήν•λ” κ²ƒλ§ λ³΄μ—¬μ£ΌκΈ°

1νμ΄μ§€μ—λ” 0λ²λ¶€ν„° 9λ²κΉμ§€μ μΈλ±μ¤ κ²μ‹λ¬Όμ΄ λ³΄μ—¬μ•Όν•λ‹¤.

46κ°μ κ²μ‹λ¬Όμ΄ μλ” μƒν™©μ—μ„ μ΄λ¥Ό κµ¬ν„ν•λ ¤λ©΄ slice λ©”μ„λ“λ¥Ό ν™μ©ν•΄μ•Όν•λ‹¤.

```js
// LecturePage.tsx

lectureList
  .slice(offset, offset + limit)
  .map(
    (item: {
      userId: number;
      id: number;
      title: string;
      body: string;
    }) => (
		// ... //
    )
)
```

lectureListλ” 46κ°μ κ²μ‹λ¬Όμ΄ λ“¤μ–΄μλ” λ°°μ—΄μ΄κ³  slice λ©”μ„λ“λ¥Ό ν†µν•΄ offset μΈλ±μ¤λ¶€ν„° offset+limit-1λ² μΈλ±μ¤κΉμ§€λ¥Ό λ³µμ‚¬ν•λ‹¤.

1λ² νμ΄μ§€μ—λ” offsetμ΄ 0μ΄λ―€λ΅ 0+10-1=9

λ”°λΌμ„ 0λ²~9λ² μΈλ±μ¤κΉμ§€λ§ μ‚¬μ©ν•λ‹¤λ” κ²ƒμ„ μ• μ μλ‹¤.

---

### π¨ ν•„μ”ν• κ²ƒ 2

νμ΄μ§€λ„¤μ΄μ… κΈ°λ¥μ„ ν•΄μ¤„ μ»΄ν¬λ„νΈλ¥Ό λ§λ“¤κΈ° μ„ν•΄ μ–΄λ–¤κ² ν•„μ”ν• μ§€ μƒκ°ν•΄λ³΄μ.

1. totalμ΄λΌλ” λ³€μ. κ²μ‹λ¬Όμ μ΄ κ°μλ¥Ό μλ―Έν•λ‹¤
2. limitμ΄λΌλ” λ³€μ. ν• νμ΄μ§€μ—μ„ λ³΄μ—¬μ¤„ κ²μ‹λ¬Όμ κ°μλ¥Ό μλ―Έν•λ‹¤.
3. pageλΌλ” state. ν„μ¬ νμ΄μ§€μ λ²νΈλ¥Ό μλ―Έν•λ‹¤.
4. setPageλΌλ” setState. pageλΌλ” stateλ¥Ό λ³€κ²½ν•  λ• μ‚¬μ©ν•λ‹¤.

νμ΄μ§€λ„¤μ΄μ… μ»΄ν¬λ„νΈμ—μ„ μƒμ„±ν•λ” κ²ƒλ„ μλ‹¤. 5. numPagesλΌλ” λ³€μ. νμ΄μ§€μ μ΄ κ°μλ¥Ό μλ―Έ.

---

#### νμ΄μ§€μ μ΄ κ°μ

```js
const numPages = Math.ceil(total / limit);
```

```js
// Pagination.tsx

// < λ²„νΌ
<button onClick={() => setPage(page - 1)} disabled={page === 1}>
  &lt;
</button>

// > λ²„νΌ
<button onClick={() => setPage(page + 1)} disabled={page === numPages}>
  &gt;
</button>
```

```js
// Pagination.tsx

{showedLecture.map((item, index) => (
  <button
    key={index + 1}
    onClick={() => setPage(index + 1)}
    className={
      index + 1 === page
        ? // ν„μ¬ νμ΄μ§€μ λ²„νΌ μ¤νƒ€μΌ
        : // λ‹¤λ¥Έ νμ΄μ§€ λ²„νΌ μ¤νƒ€μΌ
    }
  >
    {index + 1}
  </button>
))}
```
