# 2024.04.26 TIL

## 📚 프리온보딩 4월 챌린지 1회차

리액트 이전의 브라우저는
페이지를 이동할 떄마다 html 파일을 새로 받아왔음.
즉, 페이지를 로딩할 때마다 서버에서 리소스를 전달받아 해석한 뒤 화면에 출력.
과거와 달리 웹에서 제공하는 정보가 매우 많은데 이는 서버 서버의 성능상의 이슈가 발생한다.
과도한 트래픽 -> 서버에 높은 부하

가장 큰 차이이자 핵심은 뷰 렌더링을 사용자의 브라우저가 담당한다 (CSR)

- 브라우저에서 앱을 실행시킨 후, 인터렉션이 발생할 때 필요한 부분만 JS로 변경
- 새로운 데이터가 필요하다면 서버 API를 호출하여 필요한 데이터만 사용

index.html 파일을 최초 1회 로드하고 -> JS로 DOM, HTML 조작 => 효율성 증가

---

### 🚨 리액트의 컨셉 01: Virtual DOM

DOM이란? HTML 문서를 브라우저가 이해할 수 있도록 만든 tree 형태의 자료구조다. HTML의 계층적 구조와 정보를 표현하며, DOM을 제어할 수 있는 API를 제공한다.

#### 기존 브라우저에서 화면에 변경되면

1. DOM을 타고 내려가며 타겟 요소를 찾음
2. 색상 변경, 데이터 변경 등 변경 사항을 적용
3. 해당 요소부터 그 아래 모든 요소를 다시 그림

-> 리플로우, 리페인트에 대한 배용 발생

#### 앞서 말한 문제를 해결하기 위해 React는 가상 돔(Virtual DOM)이라는 개념을 도입했다.

- 가상돔은 실제 DOM의 복사본으로 메모리(컴퓨터의 주 메모리인 RAM) 상에 존재하며, JavaScript 객체 형태로 존재한다. 이렇게 메모리 상에 저장되어 있기 때문에, 실제 DOM을 직접 조작하는 것보다 빠르게 UI를 업데이트할 수 있다.

---

### 🚨 리액트의 컨셉 02: 컴포넌트

React의 작동 원리를 이해하기 위해서는 먼저 알아두어야 할 점이 있다.
"React는, Web을 모르며, Browser와는 전혀 관계가 없다."

React는 어디까지나 UI를 효율적으로 보여주기 위한 라이브러리. 다시 말해 React의 역할은 컴포넌트와 State를 관리 하는것.

---

### 🚨 리액트의 컨셉 03: 상태

왜 State를 사용해야할까?

#### "화면에 그려지는 변수도 정상적으로 변경되길 원하기 때문에!"

let, const로 선언된 변수는 변경되어도 화면이 바뀌지 않지만 state에 저장된 데이터는 변경되면 화면이 리렌더링된다.

#### ❗️ 일반 변수 사용 시

- let, const, var로 선언된 변수는 재할당해도 화면이 다시 그려지지 않음.
- 재할당이 안되는것은 아니다. 재할당은 되나 새로고침을 해야 화면에 변경(반영)된다.
- 물론 값을 읽기만 하고 업데이트를안하는 경우는 사용한다.

#### ❗️ 상태(state) 사용 시

- 상태가 변경되면 자동으로 화면이 다시 그려짐
- 새로고침을 하지 않아도 화면이 변경된다.
- 사용자는 자연스럽고 스무스한 화면을 볼 수 있다.
- 자주 변경이 일어나거나, 동적으로 렌더링해야하는 경우 사용한다.

#### 📌 화면이 다시 그려지는 3가지 상황 (컴포넌트가 재렌더링되는 3가지 경우)

- setState 메서드를 통해 상태가 변경/업데이트될 때
- 부모 컴포넌트로부터 전달받은 프로퍼티가 변경될 때
- 상위(부모) 컴포넌트가 재렌더링될 때 자식컴포넌트도 재렌더링

---

### 📌 면접 질문

#### Q1.DOM과 Virtual DOM의 차이는?

**DOM(Document Object Model)**은 웹 페이지를 스크립트 또는 프로그래밍 언어들이 사용할 수 있는 구조로 표현한 것입니다. 이 구조는 웹 페이지의 객체 지향 표현으로, 자바스크립트와 같은 스크립트 언어를 통해 DOM을 수정하면 웹 페이지의 내용과 구조가 실시간으로 변경됩니다.
반면에, Virtual DOM은 실제 DOM의 가벼운 복사본으로, React에서 컴포넌트의 상태가 변경될 때마다 Virtual DOM이 업데이트됩니다. 그런 다음 React는 Virtual DOM과 실제 DOM을 비교(또는 “diffing”)하여 실제 DOM에 어떤 변경사항이 필요한지 파악합니다. 이렇게 하면 실제 DOM에 대한 비효율적인 변경을 최소화하고 성능을 향상시킬 수 있습니다.

#### Q2.State와 props의 차이?

State는 컴포넌트 내부에서 선언되며, 컴포넌트의 생명주기 동안 변경될 수 있는 데이터를 가지고 있습니다. State는 사용자의 상호작용이나 시간 경과 등으로 인해 변경될 수 있으며, 이러한 변경은 컴포넌트의 재렌더링을 일으킵니다.
**props(properties)**는 부모 컴포넌트로부터 자식 컴포넌트로 전달되는 데이터입니다. props는 컴포넌트 내부에서 변경할 수 없습니다(읽기 전용입니다). props의 주요 목적은 컴포넌트에 데이터를 제공하고, 컴포넌트 간에 데이터를 공유하는 것입니다.

#### Q3.useState를 사용하는 이유?

React에서는 state를 직접 변경하지 않고 useState와 같은 상태 변경 함수를 사용하는 것이 권장됩니다. 이는 React가 상태 변경을 추적하고 필요한 컴포넌트를 재렌더링하는 데 도움이 되기 때문입니다. state를 직접 변경하면 React는 상태가 변경되었는지 알 수 없으므로, UI가 예상대로 업데이트되지 않을 수 있습니다.

#### Q4.React가 상태 변화를 어떻게 알아차리는가?

React는 useState와 같은 상태 변경 함수를 통해 상태 변경을 추적합니다. 상태 변경 함수가 호출되면, React는 해당 상태가 속한 컴포넌트를 재렌더링합니다. 이 과정에서 React는 Virtual DOM을 업데이트하고, 이전과 새로운 Virtual DOM을 비교하여 실제 DOM에 반영할 변경사항을 결정합니다.
