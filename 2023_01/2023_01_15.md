# 2023_01_15 TIL

# Redux (React Library)

---

### 세 가지 경우의 상태

#### Local State

데이터가 변경되어 하나의 컴포넌트에 속하는 UI에 영향을 미치는 상태.<br>
예를들어 사용자 입력을 보고 useState를 사용해서 그 입력과 함께 state 변수에 저장하거나 토글 버튼이 있다.

#### Cross-ComponentState

하나의 컴포넌트가 아니라 다수의 컴포넌트에 영향을 미치는 상태. 예를 들면 모달 오버레이를 열거나 닫는 버튼이 있다면 그런 모달 컴포넌트는 여러 컴포넌트에 영향을 미칠 수 있다. 이런 경우에는 props 체인을 구축해야 한다. prop 드릴링이라고도 한다. 로컬 상태보다 약간 복잡함.

#### App-Wide State

앱의 모든 컴포넌트에 영향을 미치는 상태. 사용자 인증 정보와 같은 것들이 이에 해당함.

---

Cross-Component State와 App-Wide State에서 데이터를 넣고 전체 props 함수를 업데이트 하는건 번거로울 수 있다.

**Q: React Context를 써서 애플리케이션의 상태관리를 할 수 있는데도 왜 Redux를 쓰는가?**

**A: React Context는 단점이 있다. 복잡한 상태 로직을 관리할 때는 복잡해진다.**

### Redux의 작동 방식

Redux는 우리의 애플리케이션에 있는 **하나의 중앙 데이터 저장소**이다. 여기서 데이터는 **상태**를 가리킨다.
정확히 한 개의 저장소를 갖는다. <br>그 저장소에 전체 애플리케이션의 모든 상태를 저장한다.

우리는 궁극적으로 그 저장소에 데이터를 저장해서 컴포넌트 안에서 그 데이터들을 사용할 수 있다. 상태가 변경되면 우리는 컴포넌트에서 그것을 인지하여 그에 맞춰 대응하고 UI를 업데이트하길 윈한다. 그러면 해당 컴포넌트는 중앙 저장소에 대한 구독을 설정한다.

컴포넌트가 저장소를 구독하고 데이터가 변경될 때마다 저장소가 컴포넌트에 알려주게 된다. 그러면 컴포넌트는 필요한 데이터를 받게 된다.(리덕스 저장소의 일부를 받게됨) 그리고 그걸 사용할 수 있게 된다.
