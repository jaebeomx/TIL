# 2023_01_05 TIL

# React

---

### **React Hook**

React 버전 16.8에서 소개된 기능으로, **함수형 컴포넌트에서 상태를 관리하고 리액트 기능을 사용할 수 있도록 하는 것**이다.<br>
이전에는 클래스형 컴포넌트에서만 상태를 관리하고 생명주기 메서드를 사용할 수 있었지만 Hook을 통해 함수형 컴포넌트에서도 이와 같은 기능을 사용할 수 있게 됐다.(현재 대부분의 프로젝트에는 함수형 컴포넌트로 작성됨)<br>

#### React Hook의 장점

- 가독성과 유지보수성
  : 함수형 컴포넌트는 간결하고 코드양이 적어져 가독성이 좋아진다.
- 재사용성과 테스트 용이성
  : 로직을 컴포넌트 밖로 추출하여 재사용 가능한 함수로 만들 수 있다.
- 성능 향상
  : React는 함수형 컴포넌트를 더 효율적으로 처리하는 경향이 있어서 성능상의 이점도 있을 수 있다.
- React의 진화
  : React팀은 Hook을 통해 함수형 컴포넌트를 더 강력하고 유연하게 만들었다. 새로운 기능과 개선된 문법들이 함수형 컴포넌트에 더욱 자연스럽게 적용된다.<br><br>
  > 기존 React의 클래스형 컴포넌트에서 사용되는 생명주기(Lifecyccle) 메서드는 **ComponentDidMount**와 **ComponentDidUpdate**, **ComponentWillUnmount** 가 있는데 이 메서드들은 컴포넌트가 생성되고 업데이트되고, 제거될 때 특정 시점에 실행되는 함수들이다.

### 최신의 React 버전에는 함수형 컴포넌트와 Hook을 더 권장하는데<br>React Hook을 사용하는 컴포넌트에서는 위와 같은 메서드들 대신에 useEffect() Hook을 사용하여 비슷한 동작을 구현할 수 있다.

> useEffect Hook은 컴포넌트의 마운트, 업데이트, 언마운트 시에 특정 작업을 수행할 수 있도록 해준다. 이를 통해 함수형 컴포넌트에서도 생명주기와 관련된 작업을 처리할 수 있게 되었다.<br>(useState, useEffect, useRef 등등..)

### use 키워드를 앞에 붙여서 원래 class형 컴포넌트가 근본적으로 가지고 있는 기능을 함수형 컴포넌트에서 낚아채서(Hooking) 사용할 수 있는 기능을 React Hooks라고 부른다.<br><br>

Q: 그런데 우린 왜 굳이 기본적으로 모든 기능을 사용할 수 있는 Class형 컴포넌트가 아니라 React Hooks라는 기능까지 사용해가면서 함수형 컴포넌트를 쓰는걸까?<br><br>
A: 함수형 컴포넌트에서 class형 컴포넌트의 모든 기능을 이용할 수 있도록 하는 React Hooks는 함수형 컴포넌트보다 같은 기능을 제작하는데 비교적 많은 코드를 작성해야하고 복잡하며 중복 코드를 많이 쓴다는 단점을 극복하기 위해 나왔다.

---

### **useEffect()** (React Hooks)

```JSX
import React, { useEffect } from 'react';

function ExampleComponent() {
  useEffect(() => {
    // 컴포넌트가 마운트된 후 실행되는 작업
    return () => {
      // 컴포넌트가 언마운트되기 전 실행되는 작업(초기화)
    };
  }, []); // 빈 배열을 전달하면 컴포넌트가 마운트될 때 한 번만 실행

  useEffect(() => {
    // props 또는 state가 업데이트된 후 실행되는 작업 (ComponentDidUpdate)
  }, [props]); // 특정 값이 업데이트될 때마다 실행
}
```

useEffect는 두 개의 파라미터를 전달해야 한다.<br>

- 콜백함수
- 의존성배열(Dependency Array)<br>
  : 여기에 들어있는 값중 하나라도 변화하면 첫 번째 파라미터인 콜백함수가 다시 수행된다.
