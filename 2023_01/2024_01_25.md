# 2024_01_25 TIL

#### Redux(createStore, subscribe, getState, dispatch)

#### React Redux(createStore, provider, connect, useDispatch, useSelector)

#### Redux toolkit(configureStore, createSlice, useDispatch, useSelector, createAsyncThunk)

# react-redux

---

ë¦¬ë•ìŠ¤ë¥¼ ë” ì‰½ê²Œ ì‚¬ìš©í•  ìˆ˜ ìžˆëŠ” ë°©ë²•ì´ ìžˆë‹¤. ì´ì œë¶€í„´ ì„¤ì •í•˜ê³  ê´€ë¦¬í•˜ê¸° ì¡°ê¸ˆ ë” ì‰¬ìš´ ë°©ë²•ì„ ì•Œì•„ë³´ìž.

### â—ï¸ ë¦¬ë•ìŠ¤ì—ì„œ ê´€ë¦¬í•´ì•¼í•  ìƒíƒœê°€ ë§Žì•„ì§ˆ ë•Œ ìƒê¸¸ ìˆ˜ ìžˆëŠ” ëª‡ê°€ì§€ ë¬¸ì œì ë“¤

#### 1. ì•¡ì…˜ íƒ€ìž…ì—ì„œ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìžˆë‹¤.

ì•¡ì…˜ì„ ë°œìƒì‹œí‚¬ ë•Œ ì˜¤íƒ€ê°€ ë‚  ìˆ˜ë„ ìžˆë‹¤. ì•¡ì…˜ì„ ë°œìƒì‹œí‚¬ ë•Œ ì‹ë³„ìžë¥¼ ìž…ë ¥í•  ë•Œ ì ˆëŒ€ ì˜¤íƒ€ê°€ ë‚˜ë©´ ì•ˆëœë‹¤. ì˜¤íƒ€ê°€ ë‚˜ë©´ ë¦¬ë“€ì„œê°€ ì²˜ë¦¬í•˜ì§€ ëª»í•œë‹¤. ìž‘ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„  ë¬¸ì œê°€ ë˜ì§€ ì•Šì§€ë§Œ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì»¤ì§€ê³  í˜‘ì—…ì„ í•  ë•Œ ì„œë¡œ ë‹¤ë¥¸ ì•¡ì…˜ì´ ë§Žìœ¼ë©´ ì´ëŸ° ì‹ë³„ìž ì¤‘ í•˜ë‚˜ë¥¼ ë§ì¹˜ê¸° ì‹­ìƒì´ë‹¤. ì‹¬ì§€ì–´ëŠ” ì‹ë³„ìžì˜ ì¶©ëŒì´ ë°œìƒí•  ìˆ˜ë„ ìžˆë‹¤.

í•´ê²°ì±…: ê·¸ëž˜ì„œ ì´ëŸ° ì‹ë³„ìžë“¤ì„ í•œë²ˆ ì •ì˜í•´ë†“ê³ , ë‹¤ìŒë¶€í„° ê·¸ ì •ì˜í•œ ì´ë¦„ì„ ì‚¬ìš©í•˜ë©´ í•´ê²°í•  ìˆ˜ ìžˆë‹¤.

#### 2. ì•¡ì…˜ íƒ€ìž…ì—ì„œ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìžˆë‹¤.

ê°€ì§€ê³  ìžˆëŠ” ë°ì´í„°ì™€ ìƒíƒœê°€ ë§Žì„ìˆ˜ë¡ ìƒíƒœ ê°ì²´ë„ ì ì  ì»¤ì§„ë‹¤. ì´ ë§ì¸ì¦‰ìŠ¨, ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•  ë•Œ ë§Žì€ ìƒíƒœë¥¼ ë³µì‚¬í•´ì•¼í•œë‹¤. ê·¸ë¦¬ê³  ëª¨ë“  ìƒíƒœ ì†ì„±ì„ ìœ ì§€í•˜ë ¤ë©´ ê³„ì†í•´ì„œ ë³µì‚¬í•´ì•¼í•œë‹¤.

#### 3. ìƒíƒœì˜ ë³€ê²½ ë¶ˆê°€ì„±

ê¼­ ì—¼ë‘ì— ë‘¬ì•¼í•  ì ì€ í•­ìƒ ìƒˆë¡œìš´ ìƒíƒœ ìŠ¤ëƒ…ìˆì„ ë°˜í™˜í•´ì•¼í•œë‹¤. ê·¸ë¦¬ê³  ì´ë¯¸ ì¡´ìž¬í•˜ëŠ” ìƒíƒœë¥¼ í•¨ë¶€ë¡œ ë°”ê¿€ ìˆ˜ ì—†ë‹¤. ê·¸ëž˜ì„œ ì´ëŸ° ë¬¸ì œì ì´ ìƒê¸°ì§€ ì•Šê²Œ ë„ì™€ì¤„ ìˆ˜ ìžˆëŠ” ë¬´ì–¸ê°€ê°€ ìžˆìœ¼ë©´ ì¢‹ë‹¤. ê·¸ëž˜ì„œ ì‹¤ìˆ˜ë¡œ ì¤‘ì²©ëœ ë°ì´í„° ë“±ì„ ë°”ê¿€ ìˆ˜ ì—†ë„ë¡..

í•´ê²°ì±…: íŠ¹ì´í•œ ì‹ë³„ìžê°€ ìžˆì„ ë•Œ ì˜¤íƒ€ë¥¼ ë‚´ê³  ì‹¶ì§€ ì•Šë‹¤ë©´, ìƒìˆ˜ë¥¼ ìƒì„±í•˜ìž.

---

í•˜ì§€ë§Œ ì´ì œ ë”ì´ìƒ ë‹¤ì–‘í•œ í•´ê²°ì±…ì„ ì•Œ í•„ìš”ëŠ” ì—†ë‹¤. ëŒ€ì‹  Redux toolkitë¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ìžˆë‹¤.

# redux-toolkit

---

react-reduxë¥¼ ê°œë°œí•œ íŒ€ì´ ê°œë°œí–ˆë‹¤. ì¶”ê°€ì ì¸ íŒ¨í‚¤ì§€ì¸ë° ë¦¬ë•ìŠ¤ë¥¼ ë” íŽ¸ë¦¬í•˜ê³  ì‰½ê²Œ ìž‘ë™í•  ìˆ˜ ìžˆê²Œ í•´ì¤€ë‹¤. ì´ê±¸ ê¼­ ì‚¬ìš©í•  í•„ìš”ëŠ” ì—†ì§€ë§Œ ì‚¬ìš©í•˜ë©´ ëª‡ ê°€ì§€ê°€ ì‰¬ì›Œì§„ë‹¤.

redux-toolkitì„ ì„¤ì¹˜í•˜ë©´ reduxëŠ” ì‚­ì œí•´ì•¼í•œë‹¤. ê·¸ê±´ ì´ë¯¸ redux toolkitì— í¬í•¨ë˜ì–´ìžˆê¸° ë•Œë¬¸ì´ë‹¤.

> npm install react-redux @reduxjs/toolkit

---

### ðŸš¨ createSlice (state ìŠ¬ë¼ì´ìŠ¤ ì¶”ê°€í•˜ê¸°)

ë¦¬ë“€ì„œë¶€í„° ì‹œìž‘í•´ë³´ìž. ê²°êµ­ ì•¡ì…˜ë¶€í„° ì‹œìž‘í•˜ëŠ” ê²ƒì´ë‹¤. createSliceëŠ” í•œ ë²ˆì— ëª‡ ê°€ì§€ë¥¼ ë‹¨ìˆœí™”í•œë‹¤. ì´ëŠ” **ë¦¬ë“€ì„œì™€ ì•¡ì…˜ ìƒì„±ìžë¥¼ í•œ ë²ˆì— ìƒì„±í•´ì£¼ëŠ” ì—­í• **ì„ í•œë‹¤.

redux-toolkitì˜ createSliceëŠ” createStoreì˜ ë¦¬ë“€ì„œí•¨ìˆ˜ì™€ ë¹„ìŠ·í•œ ì—­í• ì„ í•˜ì§€ë§Œ, **createSliceëŠ” ë¦¬ë“€ì„œì™€ ì•¡ì…˜ ìƒì„±ìžë¥¼ í•¨ê»˜ ìƒì„±**í•˜ëŠ” ë°˜ë©´, **createStoreì˜ ë¦¬ë“€ì„œëŠ” ìƒíƒœ ì—…ë°ì´íŠ¸ ë¡œì§ë§Œì„ ë‹´ë‹¹**í•œë‹¤.

createSliceëŠ” ê°ì²´ë¥¼ ì¸ìžë¡œì„œ ìƒì„±í•œë‹¤. ì´ì œ ì „ì—­ ìƒíƒœì˜ sliceë¥¼ ë¯¸ë¦¬ ë§Œë“¤ì–´ë†”ì•¼ í•œë‹¤. ì„œë¡œ ì§ì ‘ì ì¸ ê´€ê³„ê°€ ì•„ë‹Œ ìƒíƒœê°€ ì—¬ëŸ¬ ì¡°ê°ìœ¼ë¡œ ë‚˜ë‰˜ì–´ì ¸ìžˆë‹¤ë©´ ì—¬ëŸ¬ ê°œì˜ ì¡°ê°ì„ ìƒì„±í•´ì„œ ì„œë¡œ ë‹¤ë¥¸ íŒŒì¼ì— ìœ„ì¹˜í•˜ê² ì§€ë§Œ ì½”ë“œë¥¼ ìœ ì§€ë³´ìˆ˜í•˜ê¸° ì‰½ê²Œ ë§Œë“¤ ê²ƒì´ë‹¤.

#### â—ï¸ëª¨ë“  sliceëŠ” ì´ë¦„ì´ ìžˆì–´ì•¼ í•œë‹¤.

ë§í•˜ìžë©´ ìƒíƒœë§ˆë‹¤ ì‹ë³„ìžê°€ í•„ìš”í•˜ë‹¤. ìŠ¬ë¼ì´ìŠ¤ì˜ ì´ë¦„ì„ ë‚˜íƒ€ë‚´ëŠ” ë¬¸ìžì—´ì¸ name ì†ì„±ì„ ì¸ìžë¡œ ë°›ëŠ”ë‹¤.

#### â—ï¸ì´ˆê¸° ìƒíƒœë¥¼ ì„¤ì •í•´ì•¼ í•œë‹¤.

ë§ê·¸ëŒ€ë¡œ ìŠ¬ë¼ì´ìŠ¤ì˜ ì´ˆê¸° ìƒíƒœë¥¼ ë‚˜íƒ€ë‚¸ë‹¤.

#### â—ï¸ë¦¬ë“€ì„œë¥¼ ì¶”ê°€í•´ì•¼ í•œë‹¤.

ë¦¬ë“€ì„œëŠ” ê°ì²´ë¼ê³  í•  ìˆ˜ ìžˆë‹¤. ì´ ê°ì²´ ì•ˆì— ë©”ì„œë“œë¥¼ ì¶”ê°€í•˜ë©´ ëœë‹¤. ì´ë¦„ì€ ìš°ë¦¬ê°€ ì •í•˜ë©´ ë˜ëŠ”ë° ë‚˜ì¤‘ì— ì´ ì´ë¦„ì´ ì¤‘ìš”í•œ ì—­í• ì„ í•œë‹¤. **reducer ê°ì²´ ë‚´ë¶€ì—ì„œ ì •ì˜ëœ ê° í•¨ìˆ˜ ì´ë¦„ì´ ì•¡ì…˜ íƒ€ìž…ì˜ ì´ë¦„ì´ ëœë‹¤.**

#### ê·¸ëŸ°ë° ì—¬ê¸°ì„  ì•¡ì…˜ì´ í•„ìš”ê°€ ì—†ë‹¤. ì™œëƒë©´ ì–´ë–¤ ì•¡ì…˜ì„ í–ˆëŠëƒì— ë”°ë¼ ë©”ì„œë“œê°€ ìžë™ìœ¼ë¡œ í˜¸ì¶œë˜ê¸° ë•Œë¬¸ì´ë‹¤. ê·¸ëž˜ì„œ ë”ì´ìƒ ifë¬¸ì´ë‚˜ switchë¬¸ë„ ì“¸ í•„ìš”ê°€ ì—†ë‹¤. ëŒ€ì‹  ë‚˜ì¤‘ì— ì„œë¡œ ë‹¤ë¥¸ ë¦¬ë“€ì„œë¥¼ êµ¬ë³„í•´ë†“ê³  ê°ê°ì˜ ë¦¬ë“€ì„œì— í•´ë‹¹í•˜ëŠ” ì•¡ì…˜ì„ ë°œìƒì‹œí‚¨ë‹¤.(ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ ê°ì†Œ)

ì´ì œ ì—¬ê¸° ë©”ì„œë“œ ì•ˆì— ìƒíƒœë¥¼ ë³€ê²½í•  ìˆ˜ ìžˆëŠ”ë° **ë°”ë¡œ ìƒíƒœë¥¼ ë³€ê²½í•  ìˆ˜ ìžˆë‹¤**. ì˜ˆë¥¼ë“¤ì–´ state.counter++ì²˜ëŸ¼. ì˜ˆì „ì—ëŠ” ì´ë ‡ê²Œ í–ˆìœ¼ë©´ ì•ˆëë‹¤. redux toolkitê³¼ createSliceë¥¼ ì‚¬ìš©í•˜ë©´ ê¸°ì¡´ ìƒíƒœë¥¼ ë°”ê¿€ ìˆ˜ ì—†ë‹¤. ì™œëƒí•˜ë©´ redux toolkitì€ ë‚´ë¶€ì ìœ¼ë¡œ immerë¼ëŠ” ë‹¤ë¥¸ íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•˜ëŠ”ë° ì´ëŸ° ì½”ë“œë¥¼ ê°ì§€í•˜ê³  ìžë™ìœ¼ë¡œ ì›ëž˜ ìžˆëŠ” ìƒíƒœë¥¼ ë³µì œí•œë‹¤. ê·¸ëž˜ê³  ìƒˆë¡œìš´ ìƒíƒœ ê°ì²´ë¥¼ ìƒì„±í•˜ê³  ëª¨ë“  ìƒíƒœë¥¼ ë³€ê²½í•  ìˆ˜ ì—†ê²Œ ìœ ì§€í•˜ê³  ë³€ê²½í•œ ìƒíƒœëŠ” ë³€í•˜ì§€ ì•Šë„ë¡ ì˜¤ë²„ë¼ì´ë“œ í•œë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ìš°ë¦¬ë“¤ì€ ë” ì‰½ê²Œ ë¦¬ë•ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìžˆë‹¤.(êµ³ì´ ì½”ë“œë¥¼ ë³µì‚¬í•  í•„ìš”ë„ ì—†ê³  ë”ì´ìƒ ë¶ˆë³€ì„±ì„ ì‹ ê²½ ì“¸ í•„ìš”ë„ ì—†ì–´ì§€ë‹ˆê¹Œ. ë‚´ë¶€ì ìœ¼ë¡œ ì•Œì•„ì„œ ë³€ê²½í•  ìˆ˜ ì—†ëŠ” ì½”ë“œë¡œ ë³€í™˜ë¨)

payload(ì¶”ê°€ ë°ì´í„°)ê°€ í•„ìš”í•œ ê²½ìš°ì—ëŠ” ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ ìž‘ë™í• ê¹Œ? actionê¹Œì§€ ê°™ì´ ë°›ìœ¼ë©´ ëœë‹¤. actionì„ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ì•„ì„œ ë¦¬ë“€ì„œ í•¨ìˆ˜ ë° ë©”ì„œë“œì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìžˆë‹¤.

```JSX
import { createSlice } from "@reduxjs/toolkit";
import { useSelector } from "react-redux";
import { createStore } from "redux";

// src/store/index.js

const initialState = { counter: 0, showCounter: true };

const counterSlice = createSlice({
  name: "counter",
  initialState: initialState,
  reducers: {
    increment(state) {
      state.counter++;
    },
    decrement(state) {
      state.counter--;
    },
    increase(state, action) {
      state.counter = state.counter + action.amount;
    },
    toggleCounter(state) {
      state.showCounter = !state.showCounter;
    },
  },
});

const store = createStore(counterSlice.reducer);

export default store;
```

---

### ðŸš¨ configureStore (ë¦¬ë•ìŠ¤ íˆ´í‚· state ì—°ê²°í•˜ê¸°)

ìŠ¬ë¼ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ createSliceë¥¼ í˜¸ì¶œí•´ì„œ ë°˜í™˜ê°’ì„ ì‚¬ìš©í•´ì•¼í•œë‹¤. ì™œëƒí•˜ë©´ ì „ì—­ ìƒíƒœì˜ sliceë¥¼ ë§Œë“¤ì–´ì„œ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì™€ ìž‘ë™í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì—..

```JSX
const counterSlice = createSlice({
  name: "counter",
  initialState: initialState,
  reducers: {
    ...
});
```

```JSX
const store= createStore(counterSlice.reducer);
```

ì´ë ‡ê²Œ ë“±ë¡ì„ í•´ë„ ëœë‹¤. í•˜ì§€ë§Œ ìƒíƒœ sliceê°€ ë§Žì•„ì ¸ ì•±ì˜ ê·œëª¨ê°€ ì»¤ì¡Œì„ ë•Œ ë¬¸ì œê°€ ìƒê¸¸ ìˆ˜ë„ ìžˆë‹¤.

#### ì™œëƒí•˜ë©´ createStoreì—ëŠ” í•˜ë‚˜ì˜ ë¦¬ë“€ì„œë§Œ ì „ë‹¬í•´ì•¼ í•˜ëŠ”ë° sliceê°€ ì—¬ëŸ¬ ê°œë¼ë©´ .reducerë¥¼ ì´ìš©í•´ ì„œë¡œ ë‹¤ë¥¸ sliceì— ì ‘ê·¼í•˜ëŠ” ë¦¬ë“€ì„œë„ ì—¬ëŸ¬ê°œ ì´ê¸° ë•Œë¬¸ì´ë‹¤.

ê¸°ì¡´ ë¦¬ë•ìŠ¤ì—ëŠ” combine Reducersë¼ëŠ” í•¨ìˆ˜ê°€ ìžˆë‹¤.
í•˜ì§€ë§Œ reduxjs/toolkitì—ì„œ ë‹¤ë¥¸ í•¨ìˆ˜ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ë„ ìžˆë‹¤. ê·¸ëŸ¼ ë” ì‰½ê²Œí•  ìˆ˜ ìžˆë‹¤.

> import {configureStore} from '@reduxjs/toolkit';

configureStoreëŠ” createStoreì²˜ëŸ¼ storeë¥¼ ë§Œë“ ë‹¤. ê·¸ë ‡ì§€ë§Œ ë‹¤ë¥¸ ì ì€ ì—¬ëŸ¬ ê°œì˜ ë¦¬ë“€ì„œë¥¼ í•˜ë‚˜ì˜ ë¦¬ë“€ì„œë¡œ ì‰½ê²Œ í•©ì¹  ìˆ˜ ìžˆë‹¤.

configureStoreë¥¼ í˜¸ì¶œí•˜ê³  ê°ì²´ë¥¼ ì „ë‹¬í•œë‹¤. ë¦¬ë“€ì„œ í•¨ìˆ˜ê°€ ì•„ë‹ˆë¼ ê°ì²´ë¥¼ ì „ë‹¤í•œë‹¤. ì´ê²Œ ë°”ë¡œ configureStoreì—ì„œ ìš”êµ¬ë˜ëŠ” ì„¤ì • ê°ì²´ì´ë‹¤. ì„¤ì • ê°ì²´ì—ì„œ reducer í”„ë¡œí¼í‹°ë¥¼ ì •í•˜ëŠ”ë° **reducersê°€ ì•„ë‹ˆë¼ reducerì´ë‹¤.** ê·¸ ì´ìœ ëŠ” **createStoreê³¼ configureStore ë‘˜ì¤‘ ë¬´ì—‡ì„ ì‚¬ìš©í•˜ë˜ ë¦¬ë•ìŠ¤ì—ëŠ” ì „ì—­ ìƒíƒœë¥¼ ë‹´ë‹¹í•˜ëŠ” ë‹¨ í•˜ë‚˜ì˜ ì£¼ìš” ë¦¬ë•ìŠ¤ í•¨ìˆ˜ë§Œ ìžˆì–´ì•¼ í•˜ê¸° ë•Œë¬¸**ì´ë‹¤.

í•˜ì§€ë§Œ configureStoreì—ëŠ” ë¦¬ë“€ì„œì˜ ê°’ì´ ë‹¨ì¼ ë¦¬ë“€ì„œê°€ ë  ìˆ˜ ìžˆë‹¤.

```JSX
const store = configureStore({
  reducer: counterSlice.reducer,
});
```

ë§Œì•½ ê·œëª¨ê°€ í° ì• í”Œë¦¬ì¼€ì´ì…˜ì´ë¼ì„œ ìƒíƒœ sliceê°€ ì—¬ëŸ¬ê°œë©´ ë¦¬ë“€ì„œ keyê°’ ëŒ€ì‹ ì— ê°ì²´ë¥¼ ì„¤ì •í•´ì„œ ê·¸ ê°ì²´ ì•ˆì— ìš°ë¦¬ê°€ ì›í•˜ëŠ”ëŒ€ë¡œ ì†ì„± ì´ë¦„ì„ ì •í•˜ê³  ê·¸ í”„ë¡œí¼í‹°ë“¤ì˜ ê°’ì´ ë˜ë‹¤ë¥¸ ë¦¬ë“€ì„œ í•¨ìˆ˜ê°€ ë˜ëŠ”ê²ƒì´ë‹¤.(ê²°êµ­ ë¦¬ë“€ì„œ ë§µì„ ìƒì„±í•˜ëŠ” ê²ƒì´ë‹¤)

#### configureStoreì´ ëª¨ë“  ë¦¬ë“€ì„œë¥¼ í•˜ë‚˜ì˜ í° ë¦¬ë“€ì„œë¡œ ë³‘í•©í•  ê²ƒì´ë‹¤. ìš°ë¦¬ ëŒ€ì‹ 

```JSX
const store = configureStore({
  reducer: {
    counter: counterSlice.reducer,
  },
});
```

---

### ðŸš¨ðŸš¨ ì•¡ì…˜ ì „ë‹¬í•˜ê¸°

ì•¡ì…˜ì„ ì „ë‹¬í•˜ëŠ”ê±´ createSliceë¡œ í•  ìˆ˜ ìžˆë‹¤. createSliceëŠ” ì„œë¡œ ë‹¤ë¥¸ ë¦¬ë“€ì„œì— í•´ë‹¹í•˜ëŠ” ê³ ìœ  ì•¡ì…˜ ì‹ë³„ìžë¥¼ ìžë™ìœ¼ë¡œ ìƒì„±í•œë‹¤. ì•¡ì…˜ ì‹ë³„ìž ê°’ì„ ì–»ìœ¼ë ¤ë©´ counterSlice.actionsì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤.

actionsì˜ ê°ì²´ì—ì„œ ì´ëŸ° keyë“¤ì— ì ‘ê·¼í•  ìˆ˜ ìžˆë‹¤. ê·¸ëŸ¬ë©´ ë¦¬ë“€ì„œ ë©”ì„œë“œì— ì ‘ê·¼í•  í•„ìš”ê°€ ì—†ë‹¤. ëŒ€ì‹ ì— redux toolkitì— ì˜í•´ ìžë™ìœ¼ë¡œ ìƒì„±ëœ ë©”ì„œë“œê°€ ìƒê¸°ê³  ê·¸ ë©”ì„œë“œê°€ í˜¸ì¶œë˜ë©´ ì•¡ì…˜ ê°ì²´ê°€ ìƒì„±ë  ê²ƒì´ë‹¤. action ê°ì²´ì˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ ì•¡ì…˜ ê°ì²´ê°€ ìƒì„±ë˜ê³  ì´ ë©”ì„œë“œëŠ” ì•¡ì…˜ ìƒì„±ìžë¼ê³  ë¶ˆë¦°ë‹¤.

#### createSliceëŠ” ì´ ë¦¬ë“€ì„œ í•¨ìˆ˜ë“¤ì„ ê¸°ë°˜ìœ¼ë¡œ ì•¡ì…˜ ìƒì„±ìžë¥¼ ìžë™ìœ¼ë¡œ ë§Œë“¤ì–´ì¤€ë‹¤. ë”°ë¼ì„œ ë¦¬ë“€ì„œ í•¨ìˆ˜ì˜ ì´ë¦„ë„ ë˜‘ê°™ì€ ì´ë¦„ì˜ ì•¡ì…˜ ìƒì„±ìžê°€ ë§Œë“¤ì–´ì§„ë‹¤. ì´ë¥¼ í†µí•´ ì•¡ì…˜ ìƒì„±ê³¼ ìƒíƒœ ì—…ë°ì´íŠ¸ë¥¼ í•œ ê³³ì—ì„œ ì²˜ë¦¬í•  ìˆ˜ ìžˆë‹¤.

ë”°ë¼ì„œ

```JSX
// ì´ë ‡ê²Œ ë‚´ë³´ë‚¸ë‹¤
export const counterActions = counterSlice.actions;
export default store;
```

storeë¿ë§Œ ì•„ë‹ˆë¼ counterActionsë„ ë‚´ë³´ë‚¸ë‹¤. ì´ë ‡ê²Œ í•˜ê³  ì•¡ì…˜ì´ í•„ìš”í•œ ì»´í¬ë„ŒíŠ¸ë¡œ ê°„í›„ ë°©ê¸ˆ ë‚´ë³´ëƒˆë˜ counterSliceì˜ ì•¡ì…˜ë“¤ì„ import í•´ì˜¨ë‹¤.

```JSX
// ì´ê±´ ë¦¬ë“€ì„œ ë©”ì„œë“œ ì´ë¦„ë“¤ì„ keyë¡œ ê°€ì§„ ê°ì²´ì´ë‹¤.
import { counterActions } from "../store/index";
```

ì´ì œ ì•¡ì…˜ì„ dispatchí•˜ë ¤ë©´ counterActionsì— ì „ë‹¬í•˜ë©´ ëœë‹¤.

ë§Œì•½ payloadê°€ í•„ìš”í•œ ìƒí™©ì—ì„± ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œ? counterActionsì˜ ì•¡ì…˜ ìƒì„±ìž ë©”ì„œë“œë¥¼ ì‚¬ìš©í•œ ë‹¤ìŒ ë©”ì„œë“œì— payload ë°ì´í„°ë¥¼ ì „ë‹¬í•´ì¤˜ì•¼í•œë‹¤.

```JSX
  const dispatch = useDispatch();
  const counter = useSelector((state) => state.counter);
  const show = useSelector((state) => state.showCounter);

  const incrementHandler = () => {
    dispatch(counterActions.increment({}));
  };
  const increaseHandler = () => {
    dispatch(coutnerActions.increase(10));
  };
  const decrementHandler = () => {
    dispatch(counterActions.decrement());
  };

  const toggleCounterHandler = () => {
    dispatch(counterActions.toggleCounter());
  };
```

ê·¸ëŸ°ë° ìš°ë¦¬ê°€ ì¸ìžë¡œì„œ ì‹¤í–‰í•˜ê³ ìž í•˜ëŠ” ì•¡ì…˜ë©”ì„œë“œì— ì „ë‹¬í•œ ê°’ì„ redux toolkitì€ ì¶”ê°€ í•„ë“œëª…ì´ payloadì¸ ê³³ì— ì €ìž¥ì„ í•œë‹¤. defaultë¡œ ì‚¬ìš©í•˜ëŠ” í•„ë“œëª…ì´ê¸° ë•Œë¬¸ì— ë°”ê¿€ ìˆ˜ ì—†ë‹¤.

ë”°ë¼ì„œ storeë¡œ ë‹¤ì‹œ ê°€ì„œ

```JSX
//ì´ê²Œ ì•„ë‹ˆë¼
    increase(state, action) {
      state.counter = state.counter + action.amount;
    },
```

```JSX
// action.payloadì— ì ‘ê·¼í•´ì•¼í•œë‹¤.
// ì™œëƒí•˜ë©´ ì´ê²Œ ìš°ë¦¬ê°€ ì „ë‹¬í•˜ê³ ìž í•˜ëŠ” ì¶”ê°€ ë°ì´í„°ë¥¼ ê°€ì§€ê³  ìžˆëŠ” í”„ë¡œí¼í‹° ì´ë¦„ì´ê¸° ë•Œë¬¸ì´ë‹¤.
    increase(state, action) {
      state.counter = state.counter + action.payload;
    },
```

---

### ðŸš¨ ë‹¤ì¤‘ ìŠ¬ë¼ì´ìŠ¤ ìž‘ì—…í•˜ê¸°

```JSX
import { configureStore, createSlice } from "@reduxjs/toolkit";
import { useSelector } from "react-redux";

// src/store/index.js

const initialCounterState = { counter: 0, showCounter: true };

const counterSlice = createSlice({
  name: "counter",
  initialState: initialCounterState,
  reducers: {
    increment(state) {
      state.counter++;
    },
    decrement(state) {
      state.counter--;
    },
    increase(state, action) {
      state.counter = state.counter + action.payload;
    },
    toggleCounter(state) {
      state.showCounter = !state.showCounter;
    },
  },
});

const initialAuthState = {
  isAuthenticated: false,
};

const authSlice = createSlice({
  name: "authentication",
  initialState: initialAuthState,
  reducers: {
    login(state) {
      state.isAuthenticated = true;
    },
  },
  logout(state) {
    state.isAuthenticated = false;
  },
});

const store = configureStore({
  reducer: {
    counter: counterSlice.reducer,
    auth: authSlice.reducer,
  },
});
export const counterActions = counterSlice.actions;
export const authActions = authSlice.actions;

export default store;
```

```JSX
import { useDispatch, useSelector } from "react-redux";
import classes from "./Counter.module.css";
import { counterActions } from "../store/index";
const Counter = () => {
  const dispatch = useDispatch();
  const counter = useSelector((state) => state.counter.counter);

  const show = useSelector((state) => state.counter.showCounter);

  const incrementHandler = () => {
    dispatch(counterActions.increment());
  };
  const increaseHandler = () => {
    dispatch(counterActions.increase(10));
  };
  const decrementHandler = () => {
    dispatch(counterActions.decrement());
  };

  const toggleCounterHandler = () => {
    dispatch(counterActions.toggleCounter());
  };

  return (
    <main className={classes.counter}>
      <h1>Redux Counter</h1>
      {show && <div className={classes.value}>{counter}</div>}
      <div>
        <button onClick={incrementHandler}>Increment</button>
        <button onClick={increaseHandler}>Increase by 10</button>
        <button onClick={decrementHandler}>Decrement</button>
      </div>
      <button onClick={toggleCounterHandler}>Toggle Counter</button>
    </main>
  );
};

export default Counter;
```
